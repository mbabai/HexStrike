<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>HexStrike Lobby</title>
    <link rel="icon" href="/public/images/X1.png" type="image/png" />
    <link rel="stylesheet" href="/public/theme.css" />
  </head>
  <body class="menu-body">
    <div id="menuShell" class="menu-shell menu-collapsed">
      <button
        id="menuToggle"
        class="icon-btn menu-toggle"
        type="button"
        aria-label="Toggle side menu"
        aria-expanded="false"
        hidden
        aria-hidden="true"
      >
        <span></span>
        <span></span>
        <span></span>
      </button>
      <aside id="menuSidebar" class="menu-sidebar panel" hidden aria-hidden="true">
        <div class="menu-brand">
          <div class="brand-stack">
            <p class="brand-name">Murelious</p>
            <p class="brand-sub">HexStrike</p>
          </div>
        </div>
        <nav class="menu-nav">
          <button class="menu-link" type="button">Account</button>
          <button class="menu-link" type="button">Rulebook</button>
          <button class="menu-link" type="button">Video Rules</button>
          <button class="menu-link" type="button">Feedback</button>
        </nav>
        <a class="menu-footer-link" href="https://bymarcell.com" target="_blank" rel="noreferrer">By Marcell</a>
      </aside>

      <section class="menu-decks panel" aria-label="Decks">
        <div class="menu-decks-header">
          <button id="playerNameButton" class="player-name-button" type="button" aria-label="Edit player name">
            <span id="playerNameValue" class="player-name-value">anonymous</span>
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M3 21l3.5-1 11-11-2.5-2.5-11 11L3 21z M14.5 5.5l2.5 2.5"
                fill="none"
                stroke="currentColor"
                stroke-width="1.8"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
          <button id="createDeck" class="btn btn-ghost btn-small" type="button">Create New Deck</button>
        </div>
        <div id="deckGrid" class="deck-grid" aria-live="polite"></div>
      </section>

      <section class="menu-match panel">
        <div class="selected-deck" aria-live="polite">
          <span class="selected-deck-label">Selected Deck</span>
          <div id="selectedDeckCard" class="selected-deck-card"></div>
        </div>
        <div class="match-cta">
          <button id="findGame" class="btn btn-cta" type="button" disabled>Find Game</button>
        </div>
        <label class="queue-field">
          <span class="queue-label">Queue</span>
          <select id="queueSelect" class="menu-select">
            <option value="quickplayQueue" selected>Quickplay</option>
          </select>
        </label>
      </section>
    </div>

    <div id="deckPreviewOverlay" class="modal-overlay deck-preview-overlay" hidden>
      <div class="deck-preview panel" role="dialog" aria-modal="true" aria-labelledby="deckPreviewTitle">
        <div class="deck-preview-header">
          <div>
            <h2 id="deckPreviewTitle">Deck Preview</h2>
            <p id="deckPreviewCharacter" class="deck-preview-subtitle"></p>
          </div>
          <button id="deckPreviewClose" class="btn btn-ghost btn-small" type="button">Close</button>
        </div>
        <div class="deck-preview-section">
          <h3>Movement</h3>
          <div id="deckPreviewMovement" class="deck-spread"></div>
        </div>
        <div class="deck-preview-section">
          <h3>Ability</h3>
          <div id="deckPreviewAbility" class="deck-spread"></div>
        </div>
      </div>
    </div>

    <div id="deckBuilderOverlay" class="modal-overlay deck-builder-overlay" hidden>
      <div class="deck-builder panel" role="dialog" aria-modal="true" aria-labelledby="deckBuilderTitle">
        <div class="deck-builder-header deck-builder-toolbar">
          <div class="deck-builder-title-block">
            <h2 id="deckBuilderTitle">Create a Deck</h2>
            <p id="deckBuilderSubtitle" class="deck-builder-subtitle">
              Pick a character, 4 movement cards, and 12 ordered ability cards.
            </p>
          </div>
          <div class="deck-name-field">
            <input id="deckNameInput" type="text" maxlength="40" placeholder="Untitled Deck" value="Untitled Deck" />
            <button id="deckSave" class="deck-save-icon" type="button" aria-label="Save deck" title="Save deck">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path
                  d="M4 4h13l3 3v13H4V4zm3 0v6h8V4H7zm0 10v4h10v-4H7z"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.8"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>
          <button id="deckBuilderClose" class="btn btn-ghost btn-small" type="button" aria-label="Close deck builder">&times;</button>
        </div>
        <div class="deck-builder-layout">
          <section class="deck-builder-library-pane">
            <div class="deck-filter-row field-row">
              <label>
                <span class="deck-filter-label">Type</span>
                <select id="deckTypeFilter" class="menu-select">
                  <option value="all">All Cards</option>
                  <option value="movement">Movement</option>
                  <option value="ability">Ability</option>
                </select>
              </label>
              <label>
                <span class="deck-filter-label">Sort</span>
                <select id="deckSort" class="menu-select">
                  <option value="name">Alphabetical</option>
                  <option value="beats">Number of Beats</option>
                  <option value="damage">Damage</option>
                  <option value="kbf">KBF</option>
                </select>
              </label>
            </div>
            <div class="deck-library-scroll">
              <div id="deckLibrary" class="deck-library" aria-live="polite"></div>
            </div>
          </section>
          <section class="deck-builder-selection-pane">
            <div class="deck-builder-selection-header">
              <div class="deck-builder-character">
                <span class="deck-section-label">Character</span>
                <button
                  id="deckCharacterButton"
                  class="deck-character-summary"
                  type="button"
                  aria-haspopup="dialog"
                  aria-expanded="false"
                >
                  <span id="deckCharacterSummaryPortrait" class="deck-character-summary-portrait"></span>
                  <span id="deckCharacterSummaryName" class="deck-character-summary-name">No character selected</span>
                </button>
              </div>
            </div>
            <div class="deck-stack-section">
              <div class="deck-stack-scroll">
                <div id="deckSelectionStack" class="deck-stack"></div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>

    <div id="deckCharacterOverlay" class="modal-overlay deck-character-overlay" hidden>
      <div class="deck-character-modal panel" role="dialog" aria-modal="true" aria-labelledby="deckCharacterTitle">
        <div class="deck-character-modal-header">
          <h2 id="deckCharacterTitle">Select Character</h2>
          <button id="deckCharacterClose" class="btn btn-ghost btn-small" type="button">Close</button>
        </div>
        <div class="deck-character-modal-body">
          <button id="deckCharacterClear" class="deck-character-clear" type="button">No character</button>
          <div id="deckCharacterPicker" class="deck-character-picker"></div>
        </div>
      </div>
    </div>

    <div id="playerNameOverlay" class="modal-overlay player-name-overlay" hidden>
      <div class="player-name-modal panel" role="dialog" aria-modal="true" aria-labelledby="playerNameTitle">
        <div class="player-name-header">
          <h2 id="playerNameTitle">Player Name</h2>
          <button id="playerNameClose" class="btn btn-ghost btn-small" type="button">Close</button>
        </div>
        <label class="player-name-field">
          <span class="deck-filter-label">Display Name</span>
          <input id="playerNameInput" type="text" maxlength="24" placeholder="anonymous1" />
        </label>
        <div class="section-actions">
          <button id="playerNameCancel" class="btn btn-ghost" type="button">Cancel</button>
          <button id="playerNameSave" class="btn btn-primary" type="button">Save</button>
        </div>
      </div>
    </div>

    <section id="gameArea" class="game-area" hidden>
      <div id="actionHud" class="action-hud">
        <div id="movementHand" class="action-hand action-hand-movement" aria-label="Movement cards"></div>
        <div class="action-center">
          <button id="actionSubmit" class="btn btn-primary action-submit" type="button" hidden>Submit</button>
          <div class="action-slot-row">
            <div class="action-slot">
              <div id="activeSlot" class="action-slot-drop" data-slot="active" aria-label="Active card slot">
                <span class="action-slot-label">Active</span>
              </div>
            </div>
            <div class="action-slot">
              <div id="passiveSlot" class="action-slot-drop" data-slot="passive" aria-label="Passive card slot">
                <span class="action-slot-label">Passive</span>
              </div>
            </div>
          </div>
          <div class="rotation-selector">
            <div id="rotationWheel" class="rotation-wheel"></div>
          </div>
        </div>
        <div id="abilityHand" class="action-hand action-hand-ability" aria-label="Ability cards"></div>
      </div>
      <div id="gameFrame" class="game-frame">
        <canvas id="gameCanvas" class="game-canvas"></canvas>
      </div>
      <div id="interactionOverlay" class="interaction-overlay" hidden>
        <div id="throwModal" class="throw-modal" role="dialog" aria-modal="true" aria-label="Choose throw direction">
          <div class="throw-center" aria-hidden="true"></div>
          <button class="throw-arrow" type="button" data-dir="0" aria-label="Throw direction 1"></button>
          <button class="throw-arrow" type="button" data-dir="1" aria-label="Throw direction 2"></button>
          <button class="throw-arrow" type="button" data-dir="2" aria-label="Throw direction 3"></button>
          <button class="throw-arrow" type="button" data-dir="3" aria-label="Throw direction 4"></button>
          <button class="throw-arrow" type="button" data-dir="4" aria-label="Throw direction 5"></button>
          <button class="throw-arrow" type="button" data-dir="5" aria-label="Throw direction 6"></button>
        </div>
        <div id="comboModal" class="combo-modal panel" role="dialog" aria-modal="true" aria-labelledby="comboModalTitle" hidden>
          <p class="combo-modal-eyebrow">Combo</p>
          <h2 id="comboModalTitle">Continue Combo?</h2>
          <p class="combo-modal-copy">Your hit opens a combo window. Continue with another combo card?</p>
          <div class="section-actions combo-modal-actions">
            <button id="comboDecline" class="btn btn-ghost" type="button">No</button>
            <button id="comboAccept" class="btn btn-primary" type="button">Yes</button>
          </div>
        </div>
        <div id="handTriggerModal" class="hand-trigger-modal panel" role="dialog" aria-modal="true" aria-labelledby="handTriggerTitle" hidden>
          <p class="hand-trigger-eyebrow">In Hand</p>
          <h2 id="handTriggerTitle">Use Card?</h2>
          <p id="handTriggerCopy" class="hand-trigger-copy"></p>
          <div class="section-actions hand-trigger-actions">
            <button id="handTriggerDecline" class="btn btn-ghost" type="button">No</button>
            <button id="handTriggerAccept" class="btn btn-primary" type="button">Yes</button>
          </div>
        </div>
        <div id="discardModal" class="discard-modal panel" role="dialog" aria-modal="true" aria-labelledby="discardModalCopy" hidden>
          <p class="discard-modal-eyebrow">Discard</p>
          <p id="discardModalCopy" class="discard-modal-copy">Discard: 0 movement, 0 ability</p>
        </div>
        <div id="drawModal" class="discard-modal panel draw-modal" role="dialog" aria-modal="true" aria-labelledby="drawModalCopy" hidden>
          <p class="discard-modal-eyebrow draw-modal-eyebrow">Draw</p>
          <p id="drawModalCopy" class="discard-modal-copy">Draw: 0 movement</p>
        </div>
      </div>
    </section>

    <div id="gameOverOverlay" class="modal-overlay game-over-overlay" hidden>
      <div class="game-over panel" role="dialog" aria-modal="true" aria-labelledby="gameOverTitle">
        <h2 id="gameOverTitle">Game Over</h2>
        <p id="gameOverMessage" class="game-over-message"></p>
        <div class="section-actions">
          <button id="gameOverDone" class="btn btn-primary" type="button">Continue</button>
        </div>
      </div>
    </div>

    <script type="module" src="/public/index.js"></script>
  </body>
</html>
